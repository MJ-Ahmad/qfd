<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quraner Fariwala — Support</title>
  <meta name="description" content="Support Quraner Fariwala — print and distribute memorization-optimized Qurans." />
<style>
/* Rewritten, cleaned, and mobile-friendly CSS for header, hero, grid, cart, and toast */

/* ===== Theme variables ===== */
:root{
  --bg-0: #071028;
  --bg-1: #071a2a;
  --panel: rgba(255,255,255,0.02);
  --muted: #94a3b8;
  --primary: #0ea5a4;
  --accent: #06b6d4;
  --fg: #e6eef6;
  --border: rgba(255,255,255,0.06);
  --success: #10b981;
  --max-width: 1100px;
  --radius: 12px;
  --shadow-strong: 0 18px 48px rgba(2,6,23,0.12);
  --shadow-soft: 0 8px 24px rgba(2,6,23,0.06);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* ===== Base ===== */
* { box-sizing: border-box; }
html,body { height:100%; margin:0; background: linear-gradient(180deg,var(--bg-0) 0%, var(--bg-1) 100%); color:var(--fg); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
.container { max-width:var(--max-width); margin:0 auto; padding:1.25rem; }

/* ===== Header ===== */
header {
  position: sticky;
  top: 0;
  z-index: 60;
  backdrop-filter: blur(6px);
  background: linear-gradient(180deg, rgba(7,10,20,0.6), rgba(7,10,20,0.35));
  border-bottom: 1px solid var(--border);
}
.nav-inner {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
  max-width:var(--max-width);
  margin:0 auto;
  padding:0.9rem 1rem;
}
.brand { display:flex; align-items:center; gap:0.75rem; color:var(--fg); text-decoration:none; }
.logo {
  width:44px; height:44px; border-radius:10px;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(135deg,var(--primary),var(--accent));
  font-weight:800; color:#042;
  box-shadow: 0 6px 18px rgba(2,6,23,0.6);
}
.nav-links { display:flex; gap:0.5rem; align-items:center; }
.nav-links a {
  padding:0.45rem 0.8rem; border-radius:8px; color:var(--fg); text-decoration:none; font-weight:600; font-size:0.95rem;
}
.nav-links a:hover { background: rgba(255,255,255,0.02); color:var(--primary); }
.actions { display:flex; gap:0.6rem; align-items:center; }
.btn {
  display:inline-flex; align-items:center; gap:0.5rem;
  padding:0.55rem 0.9rem; border-radius:8px; border:0; cursor:pointer;
  background: linear-gradient(90deg,var(--primary),var(--accent)); color:#042; font-weight:700;
}
.btn.secondary { background:transparent; border:1px solid var(--border); color:var(--fg); font-weight:600; }

/* Mobile toggle */
.mobile-toggle {
  display:none;
  background:transparent; border:1px solid transparent; padding:0.45rem; border-radius:8px; color:var(--fg); cursor:pointer;
}

/* ===== Hero ===== */
.hero {
  position:relative;
  height:52vh;
  min-height:320px;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  border-bottom:1px solid var(--border);
}
.hero .overlay { position:absolute; inset:0; background: linear-gradient(90deg, rgba(7,10,20,0.95), rgba(7,10,20,0.85)); }
.hero .content { position:relative; z-index:2; text-align:center; padding:1rem; max-width:980px; }
.kicker {
  display:inline-block; padding:0.36rem 0.8rem; border-radius:999px;
  background: rgba(6,182,212,0.08); border:1px solid rgba(6,182,212,0.12);
  color:var(--accent); font-weight:700; margin-bottom:0.6rem;
}
h1 { font-size:2.25rem; margin:0 0 0.6rem 0; line-height:1.02; }
p.lead { color:var(--muted); max-width:760px; margin:0 auto; }

/* ===== Cards grid ===== */
.grid { display:grid; gap:1rem; }
.grid.cols-3 { grid-template-columns: repeat(3, 1fr); }
.card {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid var(--border);
  padding:1rem;
  border-radius: var(--radius);
  box-shadow: var(--shadow-soft);
  display:flex; flex-direction:column; justify-content:space-between;
}
.card h3 { margin:0 0 0.5rem 0; font-size:1.05rem; }
.muted { color:var(--muted); font-size:0.92rem; margin:0; }
.impact { background: rgba(6,182,212,0.06); border:1px solid rgba(6,182,212,0.08); padding:0.6rem; border-radius:8px; margin-bottom:0.75rem; }
.price { font-size:1.6rem; font-weight:800; color:var(--primary); margin:0 0 0.6rem 0; }
.full-btn {
  width:100%; display:inline-flex; align-items:center; justify-content:center; gap:0.6rem;
  padding:0.6rem; border-radius:10px; background:var(--primary); color:#042; border:none; cursor:pointer; font-weight:700;
}
.space-y-3 { display:flex; flex-direction:column; gap:0.6rem; }
input[type="number"] { width:100%; padding:0.6rem; border-radius:8px; border:1px solid var(--border); background:transparent; color:var(--fg); }

/* ===== Cart FAB & modal ===== */
.cart-fab {
  position:fixed; right:1rem; bottom:1rem;
  background: linear-gradient(90deg,var(--primary),var(--accent));
  color:#042; padding:0.6rem 0.9rem; border-radius:999px; display:flex; align-items:center; gap:0.6rem;
  box-shadow: 0 10px 30px rgba(2,6,23,0.6); cursor:pointer; z-index:120;
}
.cart-count {
  background:var(--success); color:#042; padding:0.15rem 0.45rem; border-radius:999px; font-weight:800; font-size:0.85rem;
}
.cart-modal {
  position:fixed; right:1rem; bottom:4.6rem; width:320px; max-height:60vh;
  background: linear-gradient(180deg,#071428,#071a2a); border:1px solid var(--border); border-radius:12px;
  padding:0.6rem; box-shadow: var(--shadow-strong); overflow:auto; z-index:130; display:none;
}
.cart-modal.open { display:block; }
.cart-item { display:flex; justify-content:space-between; align-items:center; padding:0.5rem; border-bottom:1px dashed rgba(255,255,255,0.03); }
.cart-footer { padding-top:0.6rem; display:flex; justify-content:space-between; align-items:center; gap:0.5rem; }
.small { font-size:0.9rem; color:var(--muted); }

/* ===== Toast ===== */
#qf-toast { position:fixed; top:1rem; right:1rem; z-index:200; display:flex; flex-direction:column; gap:0.5rem; }

/* ===== Responsive adjustments ===== */
/* Tablet and small laptops: 2 columns */
@media (max-width: 1024px) {
  .nav-links { display:none; }
  .actions { display:none; }
  .mobile-toggle { display:inline-flex; }
  .grid.cols-3 { grid-template-columns: repeat(2, 1fr); }
}

/* Mobile: enforce 2 columns (2x2 layout for 6 cards), larger touch targets */
@media (max-width: 640px) {
  .container { padding:1rem; }
  .grid.cols-3 { grid-template-columns: repeat(2, 1fr); gap:0.75rem; }
  .card { padding:0.9rem; border-radius:10px; }
  .card h3 { font-size:1rem; }
  .muted { font-size:0.88rem; }
  .price { font-size:1.25rem; }
  .full-btn { padding:0.7rem; font-size:0.95rem; border-radius:10px; }
  .card > div[style] { display:flex; align-items:center; gap:0.5rem; }
  .card .price { flex:1 0 auto; }
  .card .full-btn { flex:0 0 46%; min-width:120px; }
  input[type="number"] { padding:0.65rem; font-size:0.95rem; }
  #custom-add { padding:0.7rem; font-size:0.95rem; }
  .cart-fab { right:0.75rem; bottom:0.75rem; padding:0.6rem 0.8rem; border-radius:12px; }
  .cart-fab > div:first-child { display:none; } /* hide text label on small screens */
  .cart-modal { left:0.75rem; right:0.75rem; bottom:5.2rem; width:auto; max-height:55vh; padding:0.75rem; border-radius:12px; }
  .hero { height:40vh; min-height:260px; }
  h1 { font-size:1.6rem; }
}

/* Very small phones */
@media (max-width: 420px) {
  .grid.cols-3 { gap:0.5rem; }
  .card { padding:0.7rem; }
  .full-btn { padding:0.55rem; font-size:0.9rem; min-width:100px; }
  .cart-modal { bottom:3.8rem; max-height:50vh; }
}
</style>


</head>
<body class="font-sans antialiased">
<header>
  <div class="nav-inner">
    <a class="brand" href="/" aria-label="Quraner Fariwala home">
      <!-- Logo image: adjust path if your HTML is in a different folder -->
      <img src="assets/logo.png"
           srcset="assets/logo.png 1x, assets/logo@2x.png 2x"
           alt="Quraner Fariwala logo"
           class="site-logo" width="44" height="44" />
      <div>
        <div style="font-weight:800;line-height:1">Quraner Fariwala</div>
      </div>
    </a>

    <nav class="nav-links" aria-label="Primary navigation">
      <a href="/" aria-current="page">Home</a>
      <a href="/qfd/donate">Donate</a>
      <a href="/qfd/contact">Contact</a>
    </nav>

    <div class="actions">
      <a class="btn" href="/qfd/donate" role="button">Donate</a>
    </div>

    <button id="mobile-toggle" class="mobile-toggle" aria-label="Toggle menu" aria-expanded="false">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color:var(--fg)" aria-hidden="true">
        <line x1="4" y1="6" x2="20" y2="6"></line>
        <line x1="4" y1="12" x2="20" y2="12"></line>
        <line x1="4" y1="18" x2="20" y2="18"></line>
      </svg>
    </button>
  </div>
</header>

<!-- Mobile menu (hidden by default; script toggles display) -->
<nav id="mobile-menu" class="card" style="display:none;position:relative;max-width:1100px;margin:0 auto;padding:0.75rem;border-radius:10px;" aria-hidden="true" aria-label="Mobile navigation">
  <ul style="list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:0.25rem">
    <li><a href="/" style="display:block;padding:0.6rem;border-radius:8px;color:var(--fg);text-decoration:none">Home</a></li>
    <li><a href="/qfd/donate" style="display:block;padding:0.6rem;border-radius:8px;color:var(--fg);text-decoration:none">Donate</a></li>
    <li><a href="/qfd/contact" style="display:block;padding:0.6rem;border-radius:8px;color:var(--fg);text-decoration:none">Contact</a></li>
    <li style="border-top:1px solid var(--border);margin-top:0.5rem;padding-top:0.5rem">
      <a href="/qfd/donate" style="display:block;padding:0.6rem;border-radius:8px;color:var(--fg);text-decoration:none;font-weight:700">Donate</a>
    </li>
  </ul>
</nav>

<!-- Hero -->
<section class="hero" role="banner" aria-label="Ramadhan campaign hero">
  <div class="overlay" aria-hidden="true"></div>

  <div class="content" role="region" aria-labelledby="hero-heading">
    <div class="kicker" aria-hidden="true">Ramadhan-2026 Campaign</div>

    <h1 id="hero-heading">
      Transform Lives Through
      <span style="background:linear-gradient(90deg,var(--primary),var(--accent));-webkit-background-clip:text;background-clip:text;color:transparent">
        Giving
      </span>
    </h1>

    <p class="lead">
      Join our mission to print and distribute <strong>40,000</strong> memorization‑optimized Qurans.
      Your donation empowers orphans and underserved Hifz students across Bangladesh and South Asia.
    </p>
  </div>
</section>


<main class="container" id="donate" role="main">
  <section>
    <h2 style="text-align:center;margin-bottom:1rem">Ways to Support Us</h2>

    <div class="donate-grid" aria-live="polite">
      <!-- 1 -->
      <div class="card">
        <h3>Single Copy Sponsor</h3>
        <p class="muted">Sponsor one memorization-optimized Quran for a deserving student</p>
        <div class="card-row">
          <div class="price">$3.25</div>
          <button class="full-btn add-to-cart" data-title="Single Copy Sponsor" data-price="3.25" aria-label="Add Single Copy Sponsor to cart">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78"></path></svg>
            Add to Cart
          </button>
        </div>
      </div>

      <!-- 2 -->
      <div class="card">
        <h3>Batch Sponsor (1,000 Copies)</h3>
        <p class="muted">Sponsor 1,000 Qurans for institutional distribution</p>
        <div class="card-row">
          <div class="price">$2200</div>
          <button class="full-btn add-to-cart" data-title="Batch Sponsor (1,000 Copies)" data-price="2200" aria-label="Add Batch Sponsor to cart">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78"></path></svg>
            Add to Cart
          </button>
        </div>
      </div>

      <!-- 3 -->
      <div class="card">
        <h3>Debt Recovery Partner</h3>
        <p class="muted">Support institutional healing and legacy debt settlement</p>
        <div class="card-row">
          <div class="price">$22500</div>
          <button class="full-btn add-to-cart" data-title="Debt Recovery Partner" data-price="22500" aria-label="Add Debt Recovery Partner to cart">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78"></path></svg>
            Add to Cart
          </button>
        </div>
      </div>

      <!-- 4 -->
      <div class="card">
        <h3>Infrastructure Patron</h3>
        <p class="muted">Sponsor team rebuilding, technology, and logistics</p>
        <div class="card-row">
          <div class="price">$16000</div>
          <button class="full-btn add-to-cart" data-title="Infrastructure Patron" data-price="16000" aria-label="Add Infrastructure Patron to cart">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78"></path></svg>
            Add to Cart
          </button>
        </div>
      </div>

      <!-- 5 -->
      <div class="card">
        <h3>Global Campaign Ally</h3>
        <p class="muted">Fund outreach, media production, and donor engagement</p>
        <div class="card-row">
          <div class="price">$11000</div>
          <button class="full-btn add-to-cart" data-title="Global Campaign Ally" data-price="11000" aria-label="Add Global Campaign Ally to cart">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78"></path></svg>
            Add to Cart
          </button>
        </div>
      </div>

      <!-- 6 -->
      <div class="card">
        <h3>Custom Donation</h3>
        <p class="muted">Choose your own amount to support Quraner Fariwala</p>
        <div class="space-y-3" style="margin-top:0.4rem">
          <input id="custom-amount" type="number" min="1" placeholder="Enter amount ($)" aria-label="Custom donation amount" />
          <button id="custom-add" class="full-btn" disabled aria-disabled="true">Add to Cart</button>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Floating cart FAB -->
<div id="cart-fab" class="cart-fab" role="button" aria-label="Open cart" tabindex="0">
  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#042" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="8" cy="21" r="1" fill="#042"></circle><circle cx="19" cy="21" r="1" fill="#042"></circle><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78" stroke="#042"></path></svg>
  <div style="font-weight:800;color:#042">Cart</div>
  <div id="cart-count" class="cart-count" aria-hidden="true">0</div>
</div>

<!-- Cart modal -->
<div id="cart-modal" class="cart-modal" role="dialog" aria-label="Shopping cart">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem">
    <strong>Your Cart</strong>
    <button id="cart-clear" style="background:transparent;border:0;color:var(--muted);cursor:pointer">Clear</button>
  </div>
  <div id="cart-items" class="cart-items" style="min-height:80px"></div>
  <div class="cart-footer">
    <div>
      <div class="small">Total</div>
      <div id="cart-total" style="font-weight:800;font-size:1.05rem">$0.00</div>
    </div>
    <div style="flex:1;text-align:right">
      <button id="checkout" class="btn" style="padding:0.5rem 0.8rem">Checkout</button>
    </div>
  </div>
</div>


<!-- Toast container -->
<div id="qf-toast" aria-hidden="true"></div>


<footer class="site-footer" role="contentinfo" style="border-top:1px solid var(--border);padding:1rem 0;margin-top:1.5rem;background:transparent;color:var(--muted);">
  <div style="max-width:1100px;margin:0 auto;padding:0 1rem;display:flex;flex-direction:column;gap:0.5rem;align-items:center;text-align:center;">
    <div style="font-size:0.98rem;color:var(--fg);font-weight:600;">
      © <span id="site-year"></span> QuranerFariwala — All rights reserved.
    </div>

    <div style="font-size:0.95rem;color:var(--muted);">
      This project is open source and available under the MIT License.
    </div>

    <div style="margin-top:0.25rem;font-size:0.92rem;color:var(--muted);max-width:820px;">
      If you encounter any issues or have complaints regarding payments, or notice discrepancies in field activities, please contact:
      <a href="mailto:mjahmad2024@outlook.com" style="color:var(--primary);text-decoration:none;margin-left:0.35rem">mjahmad2024@outlook.com</a>
    </div>

    <div style="margin-top:0.25rem;font-size:0.95rem;color:var(--fg);font-weight:600">
      With a vision for tomorrow’s leaders — by MJ‑AHMAD
    </div>

    <nav aria-label="Footer links" style="display:flex;gap:0.75rem;flex-wrap:wrap;justify-content:center;">
      <a href="/terms.html" style="color:var(--muted);text-decoration:none;font-weight:600">Terms</a>
      <a href="/privacy.html" style="color:var(--muted);text-decoration:none;font-weight:600">Privacy</a>
      <a href="/docs.html" style="color:var(--muted);text-decoration:none;font-weight:600">Docs</a>
      <a href="/faq.html" style="color:var(--muted);text-decoration:none;font-weight:600">FAQ</a>
    </nav>
  </div>

  <script>
    (function(){
      try { document.getElementById('site-year').textContent = new Date().getFullYear(); } catch(e){}
    })();
  </script>
</footer>




  <!-- Inline script: mobile menu + cart logic -->
  <script>
    (function () {
      'use strict';

      /* ---------- Helpers ---------- */
      const $ = (sel, root = document) => root.querySelector(sel);
      const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));
      const CART_KEY = 'qf_cart_v1';

      function parsePrice(v) {
        const n = Number(String(v).replace(/[^0-9.]/g, ''));
        return Number.isFinite(n) ? n : 0;
      }
      function formatCurrency(n) {
        return '$' + Number(n).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });
      }

      /* ---------- Toast ---------- */
      function showToast(msg, ms = 2000) {
        const container = document.getElementById('qf-toast');
        const el = document.createElement('div');
        el.textContent = msg;
        el.style.background = 'rgba(255,255,255,0.06)';
        el.style.color = 'var(--fg)';
        el.style.padding = '0.6rem 0.9rem';
        el.style.borderRadius = '8px';
        el.style.boxShadow = '0 8px 24px rgba(2,6,23,0.6)';
        el.style.opacity = '0';
        el.style.transform = 'translateY(-6px)';
        el.style.transition = 'opacity 180ms ease, transform 180ms ease';
        container.appendChild(el);
        requestAnimationFrame(() => { el.style.opacity = '1'; el.style.transform = 'translateY(0)'; });
        setTimeout(() => {
          el.style.opacity = '0'; el.style.transform = 'translateY(-6px)';
          setTimeout(() => el.remove(), 220);
        }, ms);
      }

      /* ---------- Cart storage ---------- */
      function loadCart() {
        try {
          const raw = localStorage.getItem(CART_KEY);
          return raw ? JSON.parse(raw) : [];
        } catch (e) {
          return [];
        }
      }
      function saveCart(cart) {
        try { localStorage.setItem(CART_KEY, JSON.stringify(cart)); } catch (e) {}
      }

      /* ---------- Cart UI ---------- */
      const cartFab = document.getElementById('cart-fab');
      const cartCountEl = document.getElementById('cart-count');
      const cartModal = document.getElementById('cart-modal');
      const cartItemsEl = document.getElementById('cart-items');
      const cartTotalEl = document.getElementById('cart-total');
      const cartClearBtn = document.getElementById('cart-clear');
      const checkoutBtn = document.getElementById('checkout');

      function renderCart() {
        const cart = loadCart();
        cartItemsEl.innerHTML = '';
        if (!cart.length) {
          cartItemsEl.innerHTML = '<div class="small" style="padding:0.6rem 0">Your cart is empty.</div>';
        } else {
          cart.forEach((it, idx) => {
            const row = document.createElement('div');
            row.className = 'cart-item';
            const meta = document.createElement('div');
            meta.className = 'meta';
            meta.innerHTML = '<div style="font-weight:700">' + escapeHtml(it.title) + '</div><div class="small">' + (it.custom ? 'Custom donation' : '') + '</div>';
            const right = document.createElement('div');
            right.style.textAlign = 'right';
            right.innerHTML = '<div style="font-weight:800">' + formatCurrency(it.price) + '</div><div style="margin-top:6px"><button data-idx="' + idx + '" class="small remove-item" style="background:transparent;border:0;color:var(--muted);cursor:pointer">Remove</button></div>';
            row.appendChild(meta);
            row.appendChild(right);
            cartItemsEl.appendChild(row);
          });
        }
        const total = cart.reduce((s, i) => s + Number(i.price || 0), 0);
        cartTotalEl.textContent = formatCurrency(total);
        cartCountEl.textContent = String(cart.length);
      }

      function escapeHtml(s){ return String(s).replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; }); }

      cartFab.addEventListener('click', () => {
        cartModal.classList.toggle('open');
      });

      cartClearBtn.addEventListener('click', () => {
        if (!confirm('Clear all items from cart?')) return;
        saveCart([]);
        renderCart();
        showToast('Cart cleared');
      });

      cartItemsEl.addEventListener('click', (e) => {
        const btn = e.target.closest('button.remove-item');
        if (!btn) return;
        const idx = Number(btn.getAttribute('data-idx'));
        const cart = loadCart();
        if (idx >= 0 && idx < cart.length) {
          cart.splice(idx, 1);
          saveCart(cart);
          renderCart();
          showToast('Item removed');
        }
      });

      checkoutBtn.addEventListener('click', () => {
        const cart = loadCart();
        if (!cart.length) { showToast('Your cart is empty'); return; }
        // For demo: just show a toast and clear cart
        showToast('Thank you — checkout simulated');
        saveCart([]);
        renderCart();
      });

      /* ---------- Add to cart bindings ---------- */
      function bindAddButtons() {
        const addBtns = Array.from(document.querySelectorAll('.add-to-cart'));
        addBtns.forEach(btn => {
          if (btn.dataset.bound === 'true') return;
          btn.dataset.bound = 'true';
          btn.addEventListener('click', (e) => {
            e.preventDefault();
            const title = btn.getAttribute('data-title') || btn.closest('.card')?.querySelector('h3')?.textContent?.trim() || 'Support item';
            const price = parsePrice(btn.getAttribute('data-price') || btn.closest('.card')?.querySelector('.price')?.textContent || '0');
            const item = { title: title, price: Number(price), addedAt: new Date().toISOString() };
            const cart = loadCart();
            cart.push(item);
            saveCart(cart);
            renderCart();
            showToast('Added to cart: ' + title);
          });
        });
      }

      /* ---------- Custom donation ---------- */
      const customInput = document.getElementById('custom-amount');
      const customAdd = document.getElementById('custom-add');
      if (customInput && customAdd) {
        customInput.addEventListener('input', () => {
          const v = Number(customInput.value);
          if (Number.isFinite(v) && v >= 1) {
            customAdd.disabled = false;
            customAdd.removeAttribute('aria-disabled');
          } else {
            customAdd.disabled = true;
            customAdd.setAttribute('aria-disabled', 'true');
          }
        });
        customAdd.addEventListener('click', (e) => {
          e.preventDefault();
          const v = Number(customInput.value);
          if (!Number.isFinite(v) || v < 1) { showToast('Enter a valid amount (minimum $1)'); return; }
          const item = { title: 'Custom Donation', price: Number(v), custom: true, addedAt: new Date().toISOString() };
          const cart = loadCart();
          cart.push(item);
          saveCart(cart);
          renderCart();
          showToast('Custom donation added');
          customInput.value = '';
          customAdd.disabled = true;
        });
      }

      /* ---------- Mobile menu toggle ---------- */
      const mobileToggle = document.getElementById('mobile-toggle');
      const mobileMenu = document.getElementById('mobile-menu');
      if (mobileToggle && mobileMenu) {
        mobileToggle.addEventListener('click', (e) => {
          e.preventDefault();
          const open = mobileToggle.getAttribute('aria-expanded') === 'true';
          if (open) {
            mobileMenu.style.display = 'none';
            mobileToggle.setAttribute('aria-expanded', 'false');
          } else {
            mobileMenu.style.display = 'block';
            mobileToggle.setAttribute('aria-expanded', 'true');
          }
        });
        // Close on outside click
        document.addEventListener('click', (ev) => {
          if (!mobileMenu.contains(ev.target) && !mobileToggle.contains(ev.target)) {
            mobileMenu.style.display = 'none';
            mobileToggle.setAttribute('aria-expanded', 'false');
          }
        });
      }

      /* ---------- Init ---------- */
      function init() {
        renderCart();
        bindAddButtons();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>
